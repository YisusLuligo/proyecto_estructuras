<?xml version="1.0" encoding="UTF-8"?>

<?import java.lang.*?>
<?import java.util.*?>
<?import javafx.scene.*?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<BorderPane xmlns="http://javafx.com/javafx/17"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="edu.universidad.estructuras.proyecto_estructura.controller.RadioController"
            style="-fx-background-color: #121212;">

    <!-- Barra Superior -->
    <top>
        <HBox alignment="CENTER_LEFT" spacing="20"
              style="-fx-background-color: #000000; -fx-padding: 15;">

            <Button fx:id="btnVolver" text="â† Volver" onAction="#handleVolver"
                    style="-fx-background-color: transparent; -fx-text-fill: #B3B3B3; -fx-background-radius: 5; -fx-cursor: hand; -fx-font-size: 14;"/>

            <Region HBox.hgrow="ALWAYS"/>

            <Label text="ðŸ“» Radio - Canciones Similares" style="-fx-text-fill: #FFFFFF; -fx-font-size: 24; -fx-font-weight: bold;"/>

            <Region HBox.hgrow="ALWAYS"/>
        </HBox>
    </top>

    <!-- Panel Central -->
    <center>
        <ScrollPane fitToWidth="true" style="-fx-background: #121212; -fx-background-color: #121212;">
            <VBox spacing="20" style="-fx-padding: 20;">

                <!-- CanciÃ³n Semilla -->
                <VBox spacing="15" style="-fx-background-color: #181818; -fx-background-radius: 10; -fx-padding: 25;">

                    <Label text="ðŸŽµ CanciÃ³n Semilla" style="-fx-font-size: 20; -fx-font-weight: bold; -fx-text-fill: #1DB954;"/>

                    <Separator style="-fx-background-color: #282828;"/>

                    <GridPane hgap="15" vgap="12">
                        <columnConstraints>
                            <ColumnConstraints minWidth="100" prefWidth="120"/>
                            <ColumnConstraints minWidth="300"/>
                        </columnConstraints>

                        <Label text="TÃ­tulo:" GridPane.columnIndex="0" GridPane.rowIndex="0"
                               style="-fx-font-weight: bold; -fx-text-fill: #B3B3B3;"/>
                        <Label fx:id="lblCancionSemilla" text="-" GridPane.columnIndex="1" GridPane.rowIndex="0"
                               style="-fx-text-fill: #FFFFFF; -fx-font-size: 14;"/>

                        <Label text="Artista:" GridPane.columnIndex="0" GridPane.rowIndex="1"
                               style="-fx-font-weight: bold; -fx-text-fill: #B3B3B3;"/>
                        <Label fx:id="lblArtistaSemilla" text="-" GridPane.columnIndex="1" GridPane.rowIndex="1"
                               style="-fx-text-fill: #FFFFFF; -fx-font-size: 14;"/>

                        <Label text="GÃ©nero:" GridPane.columnIndex="0" GridPane.rowIndex="2"
                               style="-fx-font-weight: bold; -fx-text-fill: #B3B3B3;"/>
                        <Label fx:id="lblGeneroSemilla" text="-" GridPane.columnIndex="1" GridPane.rowIndex="2"
                               style="-fx-text-fill: #FFFFFF; -fx-font-size: 14;"/>
                    </GridPane>
                </VBox>

                <!-- ConfiguraciÃ³n de Radio -->
                <VBox spacing="15" style="-fx-background-color: #181818; -fx-background-radius: 10; -fx-padding: 25;">

                    <Label text="âš™ï¸ ConfiguraciÃ³n" style="-fx-font-size: 20; -fx-font-weight: bold; -fx-text-fill: #FFFFFF;"/>

                    <Separator style="-fx-background-color: #282828;"/>

                    <VBox spacing="10">
                        <HBox alignment="CENTER_LEFT" spacing="15">
                            <Label text="Cantidad de canciones:" style="-fx-font-size: 14; -fx-text-fill: #B3B3B3;"/>
                            <Label fx:id="lblCantidadCanciones" text="20"
                                   style="-fx-font-size: 18; -fx-font-weight: bold; -fx-text-fill: #1DB954;"/>
                        </HBox>

                        <Slider fx:id="sliderCantidad" min="5" max="50" value="20"
                                showTickLabels="true" showTickMarks="true" majorTickUnit="10"
                                style="-fx-pref-width: 400;"/>

                        <Label text="Usa el algoritmo de Dijkstra para encontrar las canciones mÃ¡s similares"
                               style="-fx-font-size: 11; -fx-text-fill: #535353; -fx-font-style: italic;"/>
                    </VBox>

                    <HBox spacing="15" alignment="CENTER_LEFT">
                        <Button fx:id="btnGenerar" text="ðŸ”¥ Generar Radio" onAction="#handleGenerar"
                                style="-fx-background-color: #1DB954; -fx-text-fill: #000000; -fx-pref-height: 45; -fx-pref-width: 180; -fx-background-radius: 25; -fx-cursor: hand; -fx-font-size: 14; -fx-font-weight: bold;"/>

                        <ProgressIndicator fx:id="progressIndicator" visible="false"
                                           style="-fx-pref-width: 40; -fx-pref-height: 40;"/>
                    </HBox>
                </VBox>

                <!-- Panel de Resultados -->
                <VBox fx:id="panelResultados" spacing="15"
                      style="-fx-background-color: #181818; -fx-background-radius: 10; -fx-padding: 25;"
                      visible="false" managed="false">

                    <HBox alignment="CENTER_LEFT" spacing="15">
                        <Label text="ðŸ“‹ Cola de ReproducciÃ³n" style="-fx-font-size: 20; -fx-font-weight: bold; -fx-text-fill: #FFFFFF;"/>
                        <Region HBox.hgrow="ALWAYS"/>
                        <Button fx:id="btnReproducirTodo" text="â–¶ï¸ Reproducir Todo" onAction="#handleReproducirTodo"
                                style="-fx-background-color: #1DB954; -fx-text-fill: #000000; -fx-pref-height: 35; -fx-background-radius: 20; -fx-cursor: hand; -fx-font-weight: bold; -fx-padding: 0 15 0 15;"/>
                        <Button fx:id="btnAgregarTodasFavoritos" text="â¤ï¸ Agregar Todas" onAction="#handleAgregarTodasFavoritos"
                                style="-fx-background-color: transparent; -fx-text-fill: #FFFFFF; -fx-border-color: #FFFFFF; -fx-border-width: 1; -fx-border-radius: 20; -fx-background-radius: 20; -fx-pref-height: 35; -fx-cursor: hand; -fx-padding: 0 15 0 15;"/>
                    </HBox>

                    <Separator style="-fx-background-color: #282828;"/>

                    <TableView fx:id="tableRadio" style="-fx-pref-height: 400; -fx-background-color: #282828; -fx-control-inner-background: #282828;">
                        <columns>
                            <TableColumn fx:id="colNumero" text="#" prefWidth="50"/>
                            <TableColumn fx:id="colTitulo" text="TÃ­tulo" prefWidth="250"/>
                            <TableColumn fx:id="colArtista" text="Artista" prefWidth="200"/>
                            <TableColumn fx:id="colGenero" text="GÃ©nero" prefWidth="120"/>
                            <TableColumn fx:id="colAnio" text="AÃ±o" prefWidth="80"/>
                            <TableColumn fx:id="colDuracion" text="DuraciÃ³n" prefWidth="100"/>
                            <TableColumn fx:id="colAcciones" text="Acciones" prefWidth="150"/>
                        </columns>
                    </TableView>

                    <Label text="ðŸ’¡ Canciones ordenadas por similitud usando el algoritmo de Dijkstra"
                           style="-fx-font-size: 12; -fx-text-fill: #535353; -fx-font-style: italic;"/>
                </VBox>

            </VBox>
        </ScrollPane>
    </center>

</BorderPane>